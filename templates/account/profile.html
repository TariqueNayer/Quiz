{% extends 'base.html' %}
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>{% block title %}Profile{% endblock title %}</title>
</head>
<body>
{% block content %}
<div class="container">
	<p class="fs-2">{{ user.username }}</p>
	

	<p class="fst-italic fs-5">Created on: {{ user.date_joined|date:"F d, Y" }}</p>

	<p class="d-inline-flex gap-1 fst-italic fs-5 "><a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">Email</a></p>
	<div class="collapse" id="collapseExample">
  		<div class="card card-body mb3">
  		<h6 class="mb3">
    	{{ user.email }}
    	
		{% if not user.emailaddress_set.first.verified %}
	    <span class="badge bg-warning text-dark">(Unverified)</span>
	    {% else %}
	    <span class="badge bg-info text-dark">(Varified)</span>
	  	{% endif %}
	  	</h6>
  		</div>
	</div>
		
  	
	<hr>

	{% if scores %}
	<p class="fs-3">Score Board</p>
	<table class="table table-secondary">
		<tr>
			<th>Category</th>
			<th>Highest Score</th>
			<th>Total Questions</th>
			<th>Last Attempt</th>
		</tr>
		{% for score in scores %}
		<tr>
			<td>{{ score.category.name }}</td>
			<td>{{ score.highest_score }}</td>
			<td>{{ score.total_questions }}</td>
			<td>{{ score.last_attempted|date:"M d, Y" }}</td>
		</tr>
		{% endfor %}
	</table>
	{% else %}
	<p>You havenâ€™t attempted any quizzes yet.</p>
	{% endif %}

	<form action="{% url 'account_logout' %}" method="post">
		{% csrf_token %}
		<button class="btn btn-danger" type="submit">Logout</button>
	</form>
	<a class="btn btn-warning" href="{% url 'password_change' %}">Password Change</a>
</div>
{% endblock content %}
</body>
</html>